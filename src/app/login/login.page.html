<ion-content [fullscreen]="true">
  <div class="login-container">
    <div class="brand">
      <img src="assets/sampradaya-logo.png" alt="Sampradaya Logo" class="brand-logo">
    </div>

    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Welcome Back</h2>
        <p class="card-subtitle">Sign in to access your concerts</p>
      </div>

      <div class="form-section">
        <label class="field-label">
          <ion-icon name="call-outline"></ion-icon>
          Mobile Number
        </label>
        <div class="mobile-row">
          <div class="country-code">
            <ion-item>
              <ion-select [(ngModel)]="countryCode" interface="popover" placeholder="Code">
                <ion-select-option *ngFor="let c of countryCodes" [value]="c.code">
                  {{ c.flag }} {{ c.code }}
                </ion-select-option>
              </ion-select>
            </ion-item>
          </div>
          <div class="mobile-number">
            <ion-item>
              <ion-input [(ngModel)]="mobileNumber" type="tel" placeholder="Enter mobile number" autocomplete="tel"></ion-input>
            </ion-item>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="field-label">
          <ion-icon name="lock-closed-outline"></ion-icon>
          Password
        </label>
        <ion-item>
          <ion-input [(ngModel)]="password" type="password" placeholder="Enter your password" autocomplete="current-password"></ion-input>
        </ion-item>
        <div class="forgot-password-link">
          <a routerLink="/forgot-password">Forgot Password?</a>
        </div>
      </div>

      <div *ngIf="errorMessage" class="error-message">
        <ion-icon name="alert-circle-outline"></ion-icon>
        {{ errorMessage }}
      </div>

      <div class="actions">
        <ion-button expand="block" (click)="onLogin()" [disabled]="isLoading" class="primary-btn">
          <ion-spinner *ngIf="isLoading" name="crescent"></ion-spinner>
          <span *ngIf="!isLoading">Sign In</span>
        </ion-button>
      </div>

      <div class="divider">
        <span>New to Sampradaya?</span>
      </div>

      <ion-button expand="block" fill="outline" routerLink="/register" class="secondary-btn">
        Create Account
      </ion-button>

      <div class="browse-events-section">
        <a routerLink="/events" class="browse-events-link">
          <ion-icon name="home-outline"></ion-icon>
          Browse Events
        </a>
        <span class="separator">|</span>
        <a (click)="openContactInfo()" class="contact-link">
          <ion-icon name="call-outline"></ion-icon>
          Contact Us
        </a>
      </div>
    </div>

    <app-footer></app-footer>
  </div>
</ion-content>
